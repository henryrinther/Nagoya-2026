<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nagoya Trip 2026 - Vinyl Hunter Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { font-family: -apple-system, system-ui, sans-serif; background-color: #09090b; color: #eee; overflow-x: hidden; scroll-behavior: smooth; }
        #map-container { position: relative; height: 35vh; width: 100%; border-bottom: 1px solid #27272a; }
        #map { height: 100%; width: 100%; background: #242424; }
        .leaflet-tile-container { filter: none !important; }
        .marker-pin {
            width: 42px; height: 42px;
            background: white; border: 3px solid #90ee90; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 20px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); cursor: pointer;
        }
        .highlight-item { border-color: #90ee90 !important; background: rgba(144, 238, 144, 0.1) !important; transform: scale(1.02); }
        .tab-active { border-bottom: 3px solid #90ee90; color: #90ee90; font-weight: bold; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .leaflet-control-attribution { display: none; }
    </style>
</head>
<body class="bg-[#09090b]">

    <header class="bg-zinc-950 p-5 flex justify-between items-center border-b border-zinc-900 sticky top-0 z-[2000] backdrop-blur-md">
        <div>
            <h1 class="text-xl font-light tracking-[0.4em] text-[#90ee90]">N A G O Y A</h1>
            <p class="text-[8px] text-zinc-500 uppercase tracking-[0.2em] mt-1">2026 March / M3 Max Powered</p>
        </div>
        <div class="flex items-center gap-3 bg-zinc-900/50 px-3 py-2 rounded-xl border border-zinc-800">
            <div class="text-2xl">üå§Ô∏è</div>
            <div class="text-right">
                <div class="text-[10px] font-bold text-[#90ee90] leading-none">12¬∞C</div>
                <div class="text-[8px] text-zinc-500 uppercase mt-1">Nagoya / Cloudy</div>
            </div>
        </div>
    </header>

    <div id="map-container">
        <div id="map"></div>
    </div>

    <nav class="bg-zinc-950 border-b border-zinc-900 flex justify-around sticky top-[82px] z-[2000]">
        <button onclick="switchDay(1)" id="tab1" class="py-4 px-6 text-[10px] tracking-widest tab-active">D1</button>
        <button onclick="switchDay(2)" id="tab2" class="py-4 px-6 text-[10px] tracking-widest text-zinc-600">D2</button>
        <button onclick="switchDay(3)" id="tab3" class="py-4 px-6 text-[10px] tracking-widest text-zinc-600">D3</button>
        <button onclick="switchDay(4)" id="tab4" class="py-4 px-6 text-[10px] tracking-widest text-zinc-600">D4</button>
    </nav>

    <main id="itinerary" class="p-6 space-y-4 pb-24"></main>

    <script>
        const hotel = { id: "hotel-base", time: "BASE", name: "BASE LAYER ÂêçÂè§Â±ãÈå¶", desc: "Èå¶2‰∏ÅÁõÆ2-6-30", hours: "24h Stay", lat: 35.1718, lng: 136.9010, icon: "üè®" };

        const itineraryData = {
            1: [
                { id: "loc-1-1", time: "14:10", name: "‰∏≠ÈÉ®ÂúãÈöõÊ©üÂ†¥ (NGO)", desc: "ÂêçÂè§Â±ã‰πãÊóÖËµ∑Èªû", hours: "24 Hours", lat: 34.858, lng: 136.805, icon: "üõ¨" },
                hotel,
                { id: "loc-1-3", time: "19:00", name: "È¶¨Âñ∞‰∏Ä‰ª£ ÂêçÂè§Â±ãÊ¶Æ", desc: "ÊôöÈ§êÔºöÈ†ÇÁ¥öÈ£õÈ©íÁâõÁáíËÇâ", hours: "11:30‚Äì23:00", lat: 35.1699, lng: 136.9082, icon: "üêÇ" }
            ],
            2: [
                hotel,
                { id: "loc-2-1", time: "10:00", name: "ÂêçÂè§Â±ãÂ∏ÇÁßëÂ≠∏È§®", desc: "ÂøÖÁùá‰∏ñÁïåÊúÄÂ§ßÂ§©Ë±°ÂÑÄ", hours: "09:30‚Äì17:00", lat: 35.1643, lng: 136.8998, icon: "üî≠" },
                { id: "loc-2-2", time: "12:30", name: "Â±±Êú¨Â±ãÁ∏ΩÊú¨ÂÆ∂", desc: "ÂçàÈ§êÔºöÂë≥ÂôåÁÖÆÁÉèÂÜ¨ÂêçÂ∫ó", hours: "11:00‚Äì22:00", lat: 35.1661, lng: 136.9073, icon: "ü•ò" },
                { id: "loc-2-3", time: "15:00", name: "Banana Record Ê¶ÆÂ∫ó", desc: "Ê¶ÆÂçÄÈªëËÜ†ÈÄ£ÈéñÂêçÂ∫ó", hours: "11:00‚Äì20:00", lat: 35.1685, lng: 136.9063, icon: "üíø" }
            ],
            3: [
                hotel,
                { id: "loc-3-1", time: "09:30", name: "ÁÜ±Áî∞Á•ûÂÆÆ", desc: "‰∏âÂ§ßÁ•ûÂô®„ÄåËçâËñôÂäç„ÄçÊî∂ËóèÂú∞", hours: "24 Hours", lat: 35.1257, lng: 136.9091, icon: "‚õ©Ô∏è" },
                { id: "loc-3-2", time: "14:00", name: "Banana Record Â§ßÈ†àÂ∫ó", desc: "Â§ßÈ†àË¶èÊ®°ÊúÄÂ§ßÁöÑ‰∏≠Âè§ÈªëËÜ†Â∫ó", hours: "11:00‚Äì20:00", lat: 35.1595, lng: 136.9015, icon: "üìÄ" },
                { id: "loc-3-3", time: "16:00", name: "Â§ßÈ†àÂïÜÂ∫óË°ó", desc: "‰∏≠Âè§ÈÅäÊà≤ËàáÂãïÊº´ËÅñÂú∞", hours: "10:00‚Äì20:00", lat: 35.159, lng: 136.903, icon: "üéÆ" },
                { id: "loc-3-4", time: "18:30", name: "Â°ö„Å°„ÇÉ„ÇìÈ§ÉÂ≠ê", desc: "ÂçÉÁ®ÆÁ´ô‰∫∫Ê∞£È§ÉÂ≠ê", hours: "17:00‚Äì23:00", lat: 35.1706, lng: 136.9300, icon: "ü•ü" }
            ],
            4: [
                hotel,
                { id: "loc-4-1", time: "11:00", name: "cafe MARU", desc: "ÈÇ£Âè§ÈáéÂúìÈ†ìÂØ∫ÂïÜÂ∫óË°óÁ∂≤Á¥ÖÂ∫ó", hours: "11:00‚Äì18:00", lat: 35.1765, lng: 136.8912, icon: "‚òï" },
                { id: "loc-4-2", time: "13:00", name: "ËøëÊ±üÁáíËÇâ„Åô„Å†„Åè", desc: "ÂçàÈ§êÔºöËøëÊ±üÁâõÁáíËÇâ‰∏º", hours: "12:00‚Äì23:00", lat: 35.1738, lng: 136.8915, icon: "üçö" },
                { id: "loc-4-3", time: "15:00", name: "Ê©üÂ†¥ÂõûÁ®ã", desc: "ÂâçÂæÄÊ©üÂ†¥Êê≠Ê©ü", hours: "N/A", icon: "üõ´" }
            ]
        };

        let map = L.map('map', { zoomControl: false, scrollWheelZoom: false }).setView([35.17, 136.90], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 }).addTo(map);
        let markers = [];

        function switchDay(day) {
            document.querySelectorAll('nav button').forEach(b => { b.classList.remove('tab-active'); b.classList.add('text-zinc-600'); });
            document.getElementById('tab' + day).classList.add('tab-active');
            document.getElementById('tab' + day).classList.remove('text-zinc-600');
            const container = document.getElementById('itinerary');
            container.innerHTML = ''; markers.forEach(m => map.removeLayer(m)); markers = [];
            const dayPoints = [];
            itineraryData[day].forEach(item => {
                container.innerHTML += `
                    <div id="${item.id}" class="item-card transition-all duration-300 flex gap-6 border border-zinc-900 bg-zinc-950/50 p-5 rounded-2xl relative active:scale-95">
                        <div class="text-3xl">${item.icon}</div>
                        <div class="flex-grow">
                            <div class="flex justify-between items-start">
                                <h3 class="font-bold text-sm text-zinc-100 uppercase tracking-wider">${item.name}</h3>
                                <span class="text-[9px] font-mono text-[#90ee90] font-bold">${item.time}</span>
                            </div>
                            <p class="text-zinc-500 text-[10px] mt-1 font-light leading-relaxed">${item.desc}</p>
                            <div class="mt-3 flex items-center gap-2">
                                <span class="text-[8px] px-2 py-0.5 rounded border border-zinc-800 text-zinc-500 font-mono">üïí HOURS: ${item.hours}</span>
                            </div>
                        </div>
                    </div>`;
                if (item.lat) {
                    const customIcon = L.divIcon({ html: `<div class="marker-pin" onclick="scrollToItem('${item.id}')">${item.icon}</div>`, className: 'custom-div-icon', iconSize: [42, 42], iconAnchor: [21, 21] });
                    const m = L.marker([item.lat, item.lng], { icon: customIcon }).addTo(map); markers.push(m); dayPoints.push([item.lat, item.lng]);
                }
            });
            if(dayPoints.length > 0) map.fitBounds(dayPoints, { padding: [60, 60] });
        }

        function scrollToItem(id) {
            document.querySelectorAll('.item-card').forEach(card => card.classList.remove('highlight-item'));
            const target = document.getElementById(id);
            if (target) {
                const y = target.getBoundingClientRect().top + window.pageYOffset - 180;
                window.scrollTo({ top: y, behavior: 'smooth' });
                target.classList.add('highlight-item');
                setTimeout(() => target.classList.remove('highlight-item'), 3000);
            }
        }
        switchDay(1);
    </script>
</body>
</html>
