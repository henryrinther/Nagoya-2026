<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nagoya '26 - Cyan Edition V3.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { font-family: -apple-system, system-ui, sans-serif; background-color: #050505; color: #eee; overflow-x: hidden; scroll-behavior: smooth; }
        
        /* Cyan Edition åœ°åœ–é¢¨æ ¼ï¼šæ¿¾é¡è™•ç†æ¨¡æ“¬æ·±è‰²è—åœ– */
        #map-container { position: relative; height: 40vh; width: 100%; border-bottom: 1px solid #1a1a1a; }
        #map { height: 100%; width: 100%; background: #010409; }
        .leaflet-tile-container { 
            filter: invert(100%) hue-rotate(170deg) brightness(40%) contrast(120%) saturate(150%); 
        }
        .leaflet-container { background: #010409 !important; }

        /* å°è¦½åˆ—èˆ‡æ¨™é¡Œæ¨£å¼ */
        .tab-btn { position: relative; transition: all 0.3s; color: #333; font-weight: 300; }
        .tab-active { color: #90ee90 !important; font-weight: 900; }
        .tab-active::after { content: ''; position: absolute; bottom: 0; left: 35%; width: 30%; height: 2px; background: #90ee90; box-shadow: 0 0 15px #90ee90; }

        /* å¡ç‰‡è¨­è¨ˆï¼šæ·±è‰²åŠé€æ˜èˆ‡å·¦å´å…‰ç·š */
        .item-card { 
            border: 1px solid #1a1a1a; 
            background: rgba(15, 15, 15, 0.6); 
            backdrop-filter: blur(8px); 
            border-left: 3px solid #90ee90; 
            box-shadow: 0 4px 20px rgba(0,0,0,0.5);
        }

        /* åœ°åœ–æ¨™è¨˜æ¨£å¼ï¼šé’è‰²ç™¼å…‰åœ“é» (è·Ÿè¶³åœ– 2) */
        .marker-glow {
            width: 14px; height: 14px;
            background: #90ee90; border: 2px solid #fff; border-radius: 50%;
            box-shadow: 0 0 20px #90ee90, 0 0 40px rgba(144, 238, 144, 0.4);
        }

        /* åŠŸèƒ½æŒ‰éˆ• */
        .gmap-btn {
            border: 1px solid #90ee90; color: #90ee90; padding: 5px 14px; border-radius: 4px;
            font-size: 9px; font-weight: 800; letter-spacing: 1.5px;
            text-transform: uppercase; transition: all 0.2s;
        }
        .gmap-btn:active { background: #90ee90; color: #000; }
    </style>
</head>
<body class="bg-[#050505]">

    <header class="bg-black/95 p-6 flex justify-between items-end border-b border-zinc-900 sticky top-0 z-[2000] backdrop-blur-md">
        <div>
            <h1 class="text-2xl font-black tracking-[0.4em] text-[#90ee90] italic">N A G O Y A</h1>
            <p class="text-[8px] text-zinc-600 uppercase tracking-[0.3em] mt-1">Cyan Edition V3.0 / M3 Max Powered</p>
        </div>
        <div class="text-right">
            <span class="text-[10px] bg-zinc-900 border border-zinc-800 px-2 py-1 rounded text-zinc-500 font-mono">D3-D4 FINAL</span>
        </div>
    </header>

    <div id="map-container">
        <div id="map"></div>
    </div>

    <nav class="bg-black/90 border-b border-zinc-900 flex justify-around sticky top-[88px] z-[2000]">
        <button onclick="switchDay(1)" id="tab1" class="tab-btn py-5 px-6 text-[10px] tracking-[0.2em] uppercase">D1</button>
        <button onclick="switchDay(2)" id="tab2" class="tab-btn py-5 px-6 text-[10px] tracking-[0.2em] uppercase">D2</button>
        <button onclick="switchDay(3)" id="tab3" class="tab-btn py-5 px-6 text-[10px] tracking-[0.2em] uppercase">D3</button>
        <button onclick="switchDay(4)" id="tab4" class="tab-btn py-5 px-6 text-[10px] tracking-[0.2em] uppercase">D4</button>
    </nav>

    <main id="itinerary" class="p-6 space-y-4 pb-24 max-w-2xl mx-auto"></main>

    <script>
        const hotel = { id: "hotel-base", time: "BASE", name: "BASE LAYER åå¤å±‹éŒ¦", desc: "éŒ¦2ä¸ç›®2-6-30", hours: "24h Stay", lat: 35.1718, lng: 136.9010, icon: "ğŸ¨" };

        const itineraryData = {
            1: [
                { id: "loc-1-1", time: "14:10", name: "ä¸­éƒ¨åœ‹éš›æ©Ÿå ´ (NGO)", desc: "åå¤å±‹ä¹‹æ—…èµ·é»", hours: "24 Hours", lat: 34.858, lng: 136.805, icon: "ğŸ›¬" },
                hotel,
                { id: "loc-1-3", time: "19:00", name: "é¦¬å–°ä¸€ä»£ åå¤å±‹æ¦®", desc: "æ™šé¤ï¼šé ‚ç´šé£›é©’ç‰›ç‡’è‚‰", hours: "11:30â€“23:00", lat: 35.1699, lng: 136.9082, icon: "ğŸ‚" }
            ],
            2: [
                hotel,
                { id: "loc-2-1", time: "10:00", name: "åå¤å±‹å¸‚ç§‘å­¸é¤¨", desc: "å¿…ç‡ä¸–ç•Œæœ€å¤§å¤©è±¡å„€", hours: "09:30â€“17:00", lat: 35.1643, lng: 136.8998, icon: "ğŸ”­" },
                { id: "loc-2-2", time: "12:30", name: "å±±æœ¬å±‹ç¸½æœ¬å®¶", desc: "åˆé¤ï¼šå‘³å™Œç…®çƒå†¬ååº—", hours: "11:00â€“22:00", lat: 35.1661, lng: 136.9073, icon: "ğŸ¥˜" },
                { id: "loc-2-3", time: "15:00", name: "Banana Record æ¦®åº—", desc: "æ¦®å€é»‘è† é€£é–ååº—", hours: "11:00â€“20:00", lat: 35.1685, lng: 136.9063, icon: "ğŸ’¿" }
            ],
            3: [
                hotel,
                { id: "loc-3-1", time: "09:30", name: "æ±å±±å‹•æ¤ç‰©åœ’", desc: "é‡é»ï¼šæ¢è¨ªå°ç†Šè²“ (åŒ—åœ’)", hours: "09:00â€“16:30", lat: 35.1594, lng: 136.9808, icon: "ğŸ¼" },
                { id: "loc-3-2", time: "12:30", name: "å–«èŒ¶ãƒã‚¦ãƒ³ãƒ†ãƒ³", desc: "æŒ‘æˆ°å¥‡ç•°æœç”˜å£æ„ç²‰ï¼›èˆ‡ Wing Iu å¤¾ä»½é£Ÿ", hours: "09:00â€“21:30", lat: 35.1408, lng: 136.9634, icon: "ğŸ¥" },
                { id: "loc-3-3", time: "15:00", name: "å¤§é ˆå•†åº—è¡—", desc: "ä¸­å¤ PSP å°‹å¯¶ (MEIKOYA / K's House)", hours: "10:00â€“20:00", lat: 35.159, lng: 136.903, icon: "ğŸ®" }
            ],
            4: [
                { id: "loc-4-0", time: "09:00", name: "æœ€å¾Œè¡åˆºï¼šç²¾å“å’–å•¡", desc: "Shrub / Still Thinking è²·æ›è€³åŒ… (é ç®— HKD50)", hours: "09:00â€“", lat: 35.1725, lng: 136.9015, icon: "â˜•" },
                { id: "loc-4-1", time: "10:00", name: "æ¦®å€ LOFT / æ¾å‚å±‹", desc: "è²·æ¡ƒå‘³æµ´é¹½ã€æ¡ƒä¹¾ç­‰å“å‘³å°ç‰©", hours: "10:00â€“", lat: 35.1665, lng: 136.908, icon: "ğŸ‘" },
                { id: "loc-4-2", time: "12:00", name: "æœ€å¾Œåˆé¤ï¼šé‚£å¤é‡å€", desc: "å¸¶è‘—æˆ°åˆ©å“æº–å‚™å‰å¾€æ©Ÿå ´", hours: "11:00â€“", lat: 35.1738, lng: 136.8915, icon: "ğŸš" },
                { id: "loc-4-3", time: "15:00", name: "æ©Ÿå ´å›ç¨‹", desc: "å‰å¾€ä¸­éƒ¨åœ‹éš›æ©Ÿå ´ (NGO)", hours: "N/A", lat: 34.858, lng: 136.805, icon: "ğŸ›«" }
            ]
        };

        let map = L.map('map', { zoomControl: false, scrollWheelZoom: false, attributionControl: false }).setView([35.17, 136.90], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 }).addTo(map);
        let markers = [];

        function switchDay(day) {
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('tab-active'));
            document.getElementById('tab' + day).classList.add('tab-active');
            
            const container = document.getElementById('itinerary');
            container.innerHTML = '';
            markers.forEach(m => map.removeLayer(m));
            markers = [];

            const dayPoints = [];
            itineraryData[day].forEach(item => {
                container.innerHTML += `
                    <div id="${item.id}" class="item-card transition-all duration-300 flex gap-6 p-6 mb-4">
                        <div class="text-3xl">${item.icon}</div>
                        <div class="flex-grow">
                            <div class="flex justify-between items-start">
                                <h3 class="font-black text-[11px] text-white uppercase tracking-widest">${item.name}</h3>
                                <span class="text-[9px] font-mono text-[#90ee90]">${item.time}</span>
                            </div>
                            <p class="text-zinc-500 text-[10px] mt-2 font-light leading-relaxed uppercase">${item.desc}</p>
                            <div class="mt-4 flex justify-between items-center">
                                <span class="text-[7px] text-zinc-700 font-mono italic tracking-tighter">REF_POINT: ${item.hours}</span>
                                <button onclick="window.open('https://www.google.com/maps/dir/?api=1&destination=${item.lat},${item.lng}')" class="gmap-btn">NAV_ROUTE</button>
                            </div>
                        </div>
                    </div>`;

                if (item.lat) {
                    const icon = L.divIcon({ html: `<div class="marker-glow"></div>`, className: 'custom-div-icon', iconSize: [14, 14], iconAnchor: [7, 7] });
                    const m = L.marker([item.lat, item.lng], { icon: icon }).addTo(map);
                    markers.push(m);
                    dayPoints.push([item.lat, item.lng]);
                }
            });
            if(dayPoints.length > 0) map.fitBounds(dayPoints, { padding: [60, 60] });
        }

        // é è¨­é¡¯ç¤ºä»Šæ—¥ (Day 3)
        switchDay(3);
    </script>
</body>
</html>
