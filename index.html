<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nagoya 2026 - Stable Map</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { font-family: -apple-system, system-ui, sans-serif; background-color: #f8fafc; color: #1e293b; scroll-behavior: smooth; }
        
        /* 移除所有 CSS Filter，確保手機渲染穩定 */
        #map-container { position: relative; height: 35vh; width: 100%; border-bottom: 2px solid #e2e8f0; }
        #map { height: 100%; width: 100%; background: #e5e7eb; }

        /* Marker 樣式：圓形白底 Emoji */
        .marker-pin {
            width: 40px; height: 40px;
            background: #ffffff;
            border: 2px solid #3b82f6;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            cursor: pointer;
        }

        /* 清單選中高亮 */
        .highlight-card {
            border: 2px solid #3b82f6 !important;
            background: #eff6ff !important;
            transform: scale(1.02);
            box-shadow: 0 10px 25px -5px rgba(59, 130, 246, 0.2);
        }

        .tab-active { border-bottom: 4px solid #3b82f6; color: #3b82f6; font-weight: bold; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .leaflet-control-attribution { display: none; }
    </style>
</head>
<body class="bg-slate-50">

    <header class="bg-white p-5 flex justify-between items-center shadow-sm sticky top-0 z-[2000]">
        <div>
            <h1 class="text-xl font-black italic tracking-tighter text-blue-600">NAGOYA 2026</h1>
            <p class="text-[10px] text-slate-400 uppercase tracking-widest mt-0.5 font-bold">Base: BASE LAYER 錦</p>
        </div>
        <div class="text-right">
            <span class="text-[10px] bg-slate-100 text-slate-600 px-2 py-1 rounded font-mono">STABLE v4.0</span>
        </div>
    </header>

    <div id="map-container">
        <div id="map"></div>
    </div>

    <nav class="bg-white border-b border-slate-200 flex justify-around sticky top-[72px] z-[2000] shadow-sm">
        <button onclick="switchDay(1)" id="tab1" class="py-4 px-6 text-xs tab-active">DAY 1</button>
        <button onclick="switchDay(2)" id="tab2" class="py-4 px-6 text-xs text-slate-400">DAY 2</button>
        <button onclick="switchDay(3)" id="tab3" class="py-4 px-6 text-xs text-slate-400">DAY 3</button>
        <button onclick="switchDay(4)" id="tab4" class="py-4 px-6 text-xs text-slate-400">DAY 4</button>
    </nav>

    <main id="itinerary" class="p-4 space-y-4 pb-24"></main>
