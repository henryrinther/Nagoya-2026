<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nagoya Trip 2026 - Tactical Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: #050505; color: #eee; overflow-x: hidden; }
        
        /* æˆ°è¡“è¡›æ˜Ÿåœ°åœ–æ¿¾é¡ */
        #map { 
            height: 45vh; 
            width: 100%; 
            background: #050505;
            filter: brightness(0.6) contrast(1.2) saturate(0.2) hue-rotate(180deg) invert(100%);
            border-bottom: 1px solid #27272a;
        }

        .tab-active { border-bottom: 3px solid #3b82f6; color: #3b82f6; font-weight: bold; }
        
        /* è‡ªå®šç¾©ç™¼å…‰ Marker */
        .marker-pin {
            width: 38px;
            height: 38px;
            background: rgba(9, 9, 11, 0.9);
            border: 2px solid #3b82f6;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
            transition: all 0.3s ease;
        }

        /* éš±è—æ²è»¸ */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .leaflet-control-attribution { display: none; }
    </style>
</head>
<body class="bg-black">

    <header class="bg-zinc-900/90 backdrop-blur-md border-b border-zinc-800 sticky top-0 z-[1001] p-4 flex justify-between items-center shadow-2xl">
        <div>
            <h1 class="text-xl font-black italic tracking-tighter text-blue-500">NAGOYA 2026</h1>
            <p class="text-[10px] text-zinc-500 uppercase tracking-widest">Base: BASE LAYER éŒ¦</p>
        </div>
        <div class="text-right">
            <span class="text-[9px] font-bold bg-zinc-800 text-blue-400 px-2 py-1 rounded border border-blue-900/50 tracking-tighter">TACTICAL NAV v3.0</span>
        </div>
    </header>

    <div id="map"></div>

    <nav class="bg-zinc-900 border-b border-zinc-800 flex justify-around sticky top-[68px] z-[1001]">
        <button onclick="switchDay(1)" id="tab1" class="py-3 px-6 text-sm tab-active">D1</button>
        <button onclick="switchDay(2)" id="tab2" class="py-3 px-6 text-sm text-zinc-500">D2</button>
        <button onclick="switchDay(3)" id="tab3" class="py-3 px-6 text-sm text-zinc-500">D3</button>
        <button onclick="switchDay(4)" id="tab4" class="py-3 px-6 text-sm text-zinc-500">D4</button>
    </nav>

    <main id="itinerary" class="p-5 space-y-4"></main>

    <div class="px-5 mb-24">
        <h2 class="text-xs font-black italic tracking-widest text-zinc-500 uppercase mb-4 flex items-center gap-2">
            <span class="w-2 h-2 bg-red-600 rounded-full animate-pulse"></span>
            Odd Food Quest / æ€ªé£ŸæŒ‘æˆ°
        </h2>
        <div class="flex gap-4 overflow-x-auto pb-4 no-scrollbar">
            <div class="min-w-[220px] bg-zinc-900/40 border border-zinc-800 p-4 rounded-2xl">
                <div class="text-[9px] text-red-500 font-bold mb-1 tracking-widest">LEVEL: DEADLY</div>
                <h4 class="text-sm font-bold text-zinc-100">æŠ¹èŒ¶ç´…è±†æ„ç²‰ ğŸµ</h4>
                <p class="text-[10px] text-zinc-500 mt-2 leading-relaxed">å–«èŒ¶ Mountain åç‰©ã€‚ç†±é®®å¥¶æ²¹é…ä¸ŠæŠ¹èŒ¶èˆ‡æ„ç²‰ï¼Œå‹‡è€…é™å®šã€‚</p>
            </div>
            <div class="min-w-[220px] bg-zinc-900/40 border border-zinc-800 p-4 rounded-2xl">
                <div class="text-[9px] text-orange-500 font-bold mb-1 tracking-widest">LEVEL: WEIRD</div>
                <h4 class="text-sm font-bold text-zinc-100">é›ªç³•å£½å¸å· ğŸ¦</h4>
                <p class="text-[10px] text-zinc-500 mt-2 leading-relaxed">ä¸¸å…«å£½å¸ã€‚å°‡é›²å‘¢æ‹¿é›ªç³•æ²å…¥é†‹é£¯ï¼Œå†·ç†±ç”œé¹¹è¡æ“Šã€‚</p>
            </div>
            <div class="min-w-[220px] bg-zinc-900/40 border border-zinc-800 p-4 rounded-2xl">
                <div class="text-[9px] text-yellow-500 font-bold mb-1 tracking-widest">LEVEL: SALTY</div>
                <h4 class="text-sm font-bold text-zinc-100">å®ˆå£æ¼¬ ğŸ¥¢</h4>
                <p class="text-[10px] text-zinc-500 mt-2 leading-relaxed">ä¸–ç•Œæœ€é•·é†ƒè˜¿è””ã€‚é•·é” 1.8 ç±³ï¼Œé…’ç²•å‘³æ¥µæ¿ƒï¼ŒæŒ‘æˆ°å‘³è•¾ã€‚</p>
            </div>
        </div>
    </div>

    <script>
        const itineraryData = {
            1: [
                { time: "14:10", name: "ä¸­éƒ¨åœ‹éš›æ©Ÿå ´ (NGO)", desc: "æ”è¡Œæã€æ­åéµ", lat: 34.858, lng: 136.805, icon: "ğŸ›¬" },
                { time: "16:30", name: "é…’åº— Check-in", desc: "BASE LAYER åå¤å±‹éŒ¦", lat: 35.1718, lng: 136.9010, icon: "ğŸ¨" },
                { time: "18:30", name: "Oasis 21", desc: "å®‡å®™èˆ¹æ‰“å¡ + é›»è¦–å¡”å¤œæ™¯", lat: 35.171, lng: 136.909, icon: "ğŸ›¸" },
                { time: "20:00", name: "å‘³ä»™ ä»Šæ± æœ¬åº—", desc: "æ¿€è¾£å°ç£æ‹‰éºµæŒ‘æˆ°", lat: 35.169, lng: 136.937, icon: "ğŸœ" },
                { time: "22:00", name: "ä¸¸å…«å£½å¸", desc: "æ€ªé£Ÿï¼šé›ªç³•å£½å¸å®µå¤œ", lat: 35.171, lng: 136.887, icon: "ğŸ£" }
            ],
            2: [
                { time: "10:00", name: "æ±å±±å‹•æ¤ç‰©åœ’", desc: "Red Panda è§€è³ä»»å‹™", lat: 35.157, lng: 136.979, icon: "ğŸ¼" },
                { time: "14:00", name: "Tower Records", desc: "éŸ³æ¨‚å‘¨é‚Šå·¡ç¦®", lat: 35.164, lng: 136.908, icon: "ğŸ’¿" },
                { time: "16:00", name: "åå¤å±‹åŸ", desc: "é‡‘é¯±åŸéƒ­å·¡ç¦®", lat: 35.184, lng: 136.901, icon: "ğŸ¯" }
            ],
            3: [
                { time: "10:30", name: "å¤§é ˆå•†åº—è¡—", desc: "ä¸­å¤éŠæˆ²èˆ‡å‹•æ¼«å¤©åœ‹", lat: 35.159, lng: 136.903, icon: "ğŸ®" },
                { time: "14:00", name: "å–«èŒ¶ Mountain", desc: "ç©¶æ¥µæ€ªé£Ÿï¼šæŠ¹èŒ¶ç´…è±†æ„ç²‰", lat: 35.138, lng: 136.963, icon: "ğŸµ" },
                { time: "16:30", name: "Workman Plus", desc: "ç†±ç”°åº—ï¼šæ©Ÿèƒ½æœé£¾æƒè²¨", lat: 35.133, lng: 136.900, icon: "ğŸ‘•" }
            ],
            4: [
                { time: "10:00", name: "å‰‡æ­¦ä¹‹æ£®", desc: "ç¶²ç´…æ›¸åº—ç‰†æ‹ç…§", lat: 35.179, lng: 136.881, icon: "ğŸ“š" },
                { time: "12:00", name: "å‹¾èŠ¡æ„ç²‰ Chao", desc: "æœ€å¾Œåå¤å±‹åç‰©é«”é©—", lat: 35.170, lng: 136.883, icon: "ğŸ" },
                { time: "15:00", name: "æ©Ÿå ´", desc: "Î¼-Sky è¿”ç¨‹å›æ¸¯", icon: "ğŸ›«" }
            ]
        };

        let map = L.map('map', { zoomControl: false }).setView([35.17, 136.90], 12);
        
        // æˆ°è¡“è¡›æ˜Ÿåº•åœ– (Esri Imagery)
        L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
            maxZoom: 19
        }).addTo(map);

        let markers = [];

        function switchDay(day) {
            document.querySelectorAll('nav button').forEach(b => {
                b.classList.remove('tab-active');
                b.classList.add('text-zinc-500');
            });
            document.getElementById('tab' + day).classList.add('tab-active');
            document.getElementById('tab' + day).classList.remove('text-zinc-500');

            const container = document.getElementById('itinerary');
            container.innerHTML = '';
            markers.forEach(m => map.removeLayer(m));
            markers = [];
            const dayPoints = [];

            itineraryData[day].forEach(item => {
                container.innerHTML += `
                    <div class="bg-zinc-900/80 p-4 rounded-2xl border border-zinc-800 flex gap-4 shadow-xl mb-4 backdrop-blur-sm">
                        <div class="text-2xl">${item.icon}</div>
                        <div class="flex-grow">
                            <div class="flex justify-between items-start">
                                <span class="text-[10px] font-bold text-blue-500 uppercase">${item.time}</span>
                                ${item.lat ? `<a href="https://www.google.com/maps/search/?api=1&query=${item.lat},${item.lng}" target="_blank" class="text-[9px] bg-blue-900/30 text-blue-400 px-2 py-1 rounded border border-blue-800/50">NAVIGATE</a>` : ''}
                            </div>
                            <h3 class="font-bold text-sm text-zinc-100">${item.name}</h3>
                            <p class="text-zinc-500 text-[11px] mt-1">${item.desc}</p>
                        </div>
                    </div>`;

                if (item.lat) {
                    const customIcon = L.divIcon({
                        html: `<div class="marker-pin">${item.icon}</div>`,
                        className: 'custom-div-icon',
                        iconSize: [40, 40],
                        iconAnchor: [20, 20]
                    });

                    const m = L.marker([item.lat, item.lng], { icon: customIcon }).addTo(map);
                    markers.push(m);
                    dayPoints.push([item.lat, item.lng]);
                }
            });
            if(dayPoints.length > 0) map.fitBounds(dayPoints, { padding: [50, 50] });
        }

        switchDay(1);
    </script>
</body>
</html>
